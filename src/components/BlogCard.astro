---
interface Props {
  post: {
    slug: string;
    data: {
      title: string;
      excerpt: string;
      date: string;
      category: string;
      image: string;
      author: string;
      authorRole: string;
      authorAvatar: string;
    };
  };
}

const { post } = Astro.props;
---

<div class="card border border-gray-200 dark:border-gray-700 overflow-hidden " >
    <a href={'/blog/' + post.slug} class="block">
      <img 
        src={post.data.image} 
        alt={post.data.title}
        class="w-full h-48 object-cover"
        loading="lazy"
      />
    </a>
    <div class="p-6">
      <div class="flex items-center mb-4">
        <span class="text-sm font-medium text-primary-600 dark:text-primary-400">{post.data.category}</span>
        <span class="mx-2 text-gray-300 dark:text-gray-600">â€¢</span>
        <span class="text-sm text-gray-500 dark:text-gray-400">{new Date(post.data.date).toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
      </div>
      <a href={'/blog/' + post.slug} class="block mb-3">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400 transition-colors">{post.data.title}</h2>
      </a>
      <p class="text-gray-600 dark:text-gray-300 mb-6">{post.data.excerpt}</p>
      <div class="flex items-center">
        <img 
          src={post.data.authorAvatar} 
          alt={post.data.author} 
          class="w-10 h-10 rounded-full mr-3 object-cover"
          loading="lazy"
        />
        <div>
          <p class="font-medium text-gray-900 dark:text-white">{post.data.author}</p>
          <p class="text-sm text-gray-500 dark:text-gray-400">{post.data.authorRole}</p>
        </div>
      </div>
    </div>
  </div>